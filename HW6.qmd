---
title: "719HW6"
format: html
editor: visual
editor_options: 
  chunk_output_type: inline
---

## Question1

### A

The saturated model has 6 parameters. 1 from the intercept, 1 from the treatment, 2 from the disease, and 2 from the interaction of disease and treatment.

### B

Model 1: $logit(p) = \beta_0 + \beta_1 * T$ Model 2: $logit(p) = \beta_0 + \beta_1 * D$ Model 3: $logit(p) = \beta_0 + (\beta_1*T) + (\beta_2 *D) + (\beta_3 * T*D)$

### C

Model 1 is suitable to answer question 1. Model 2 is suitable to answer question 2. Model 3 is suitable to answer question 3.

### D

#### Build df

```{r}
y <- c(51, 67, 42, 143, 97, 40)
n <- c(200, 158, 89, 315, 263, 75)
severity <- rep(c(0,1,2), 2)
treatment <- c(rep(0, 3), rep(1, 3))

df <- cbind.data.frame(y, n, severity, treatment)
df
```

#### Fit models

```{r}
mod_1 <- glm(cbind(y, n-y) ~ treatment, data = df, family = binomial(link = "logit"))
mod_2 <- glm(cbind(y, n-y) ~ severity, data = df, family = binomial(link = "logit"))
mod_3 <- glm(cbind(y, n-y) ~ treatment*severity, data = df, family = binomial(link = "logit"))
```

### E

DF of the null deviance: `r mod_1$df.null` DF of the residual deviance for Model 1: `r mod_1$df.residual` DF of the residual deviance for Model 2: `r mod_2$df.residual` DF of the residual deviance for Model 3: `r mod_3$df.residual`

### F

```{r}
mod1_sum <- summary(mod_1)
```

The p-value for the model's treatment coefficient is `r mod1_sum$coefficients[2,4]`, which is statistically significant. This means the coefficient is significantly different from 0 and we can use the estimator to estimate the estimand. 

The odds of hospitalization increases by a factor of `r round(exp(mod1_sum$coefficients[2,1]), 3)`, or 35%, when an individual is administered Drug B compared to Drug A.

### G

```{r}
mod2_sum <- summary(mod_2)
```

The p-value for the model's severity coefficient is `r mod2_sum$coefficients[2,4]`, which is statistically significant. This means the coefficient is significantly different from 0 and we can use it to estimate our parameter.

A 1 unit increase in severity results in a `r round(exp(mod2_sum$coefficients[2,1]), 3)` odds increase of hospitalization when comparing Drug A to Drug B, which is 23.1% increase.

### H

### I

### J
